<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Inventory Management System</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
          background: #f5f7fa;
          font-family: "Segoe UI", sans-serif;
        }
        h1 {
          text-align: center;
          margin: 20px 0;
          font-weight: 600;
          color: #333;
        }
        .card {
          display: flex;
          flex-direction: column;
          height: 90vh;
          border-radius: 15px;
          box-shadow: 0 4px 12px rgba(0,0,0,0.1);
          background: #fff;
        }
        .card-header {
          font-weight: bold;
          font-size: 1.2rem;
          border-radius: 15px 15px 0 0;
        }
        .card-body {
          flex: 1;
          display: flex;
          flex-direction: column;
          padding: 15px;
        }
        .table-wrapper {
          flex: 1;
          overflow-y: auto;
          margin-bottom: 10px;
        }
        .btn-refresh {
          background-color: #20c997;
          color: white;
          border-radius: 8px;
        }
        .btn-refresh:hover {
          background-color: #199d7c;
        }
        .btn-add {
          border-radius: 8px;
          width: 100%;
        }
        form {
          border-top: 1px solid #e0e0e0;
          padding-top: 10px;
          margin-top: auto;
        }
    </style>
</head>
<body>
<div class="container-fluid">
    <h1>üì¶ Inventory Management System</h1>
    <div class="row g-3">

        <!-- Products -->
        <div class="col-md-6">
            <div class="card">
                <div class="card-header bg-success text-white">Products</div>
                <div class="card-body">
                    <button class="btn btn-refresh mb-2" onclick="loadProducts()">üîÑ Refresh Products</button>
                    <div class="table-wrapper">
                        <table class="table table-bordered table-hover">
                            <thead class="table-dark">
                            <tr>
                                <th>ID</th>
                                <th>Name</th>
                                <th>Category</th>
                                <th>Price</th>
                                <th>Quantity</th>
                                <th>Supplier</th>
                                <th>Actions</th>
                            </tr>
                            </thead>
                            <tbody id="productTable"></tbody>
                        </table>
                    </div>
                    <!-- Add Product Form -->
                    <form id="productForm" onsubmit="addProduct(event)">
                        <div class="row g-2">
                            <div class="col"><input type="text" class="form-control" placeholder="Name" id="pname" required></div>
                            <div class="col"><input type="text" class="form-control" placeholder="Category" id="pcategory" required></div>
                            <div class="col"><input type="number" class="form-control" placeholder="Price" id="pprice" required></div>
                            <div class="col"><input type="number" class="form-control" placeholder="Quantity" id="pquantity" required></div>
                            <div class="col"><input type="number" class="form-control" placeholder="Supplier ID" id="psupplier" required></div>
                            <div class="col"><button class="btn btn-success btn-add">Add</button></div>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Suppliers -->
        <div class="col-md-6">
            <div class="card">
                <div class="card-header text-white" style="background:#e75480;">Suppliers</div>
                <div class="card-body">
                    <button class="btn btn-refresh mb-2" onclick="loadSuppliers()">üîÑ Refresh Suppliers</button>
                    <div class="table-wrapper">
                        <table class="table table-bordered table-hover">
                            <thead class="table-dark">
                            <tr>
                                <th>ID</th>
                                <th>Name</th>
                                <th>Contact</th>
                                <th>Email</th>
                                <th>Address</th>
                            </tr>
                            </thead>
                            <tbody id="supplierTable"></tbody>
                        </table>
                    </div>
                    <!-- Add Supplier Form -->
                    <form id="supplierForm" onsubmit="addSupplier(event)">
                        <div class="row g-2">
                            <div class="col"><input type="text" class="form-control" placeholder="Supplier Name" id="sname" required></div>
                            <div class="col"><input type="text" class="form-control" placeholder="Contact Info" id="scontact" required></div>
                            <div class="col"><button class="btn btn-pink btn-add" style="background:#e75480;color:white;">Add</button></div>
                        </div>
                    </form>
                </div>
            </div>
        </div>

    </div>
</div>

<script>
    // Preloaded MySQL data
    let products = [
      { productID: 3, supplierID: 2, name: "Shirt",  price: 999.00,   quantity: 30, category: "Clothing" },
      { productID: 5, supplierID: 3, name: "Jeans",  price: 1500.00,  quantity: 0,  category: "Clothing" },
      { productID: 6, supplierID: 1, name: "Laptop", price: 55000.00, quantity: 10, category: "Electronics" },
      { productID: 10, supplierID: 4, name: "Phone", price: 49999.00, quantity: 25, category: "Electronics" }
    ];

    let suppliers = [
      { supplierID: 1, name: "Rachana", contact: "9390071485", email: "porandla05@gmail.com", address: "Warangal" },
      { supplierID: 2, name: "Param",   contact: "8074567135", email: "rachana@gmail.com",    address: "Hyderabad" },
      { supplierID: 3, name: "Sri",     contact: "8519872525", email: "sri@gmail.com",        address: "Mysore" },
      { supplierID: 4, name: "Ammu",    contact: "9876543219", email: "ammu@gmail.com",       address: "US" },
      { supplierID: 5, name: "Siri",    contact: "9876543210", email: "siri@gmail.com",       address: "Hyderabad" },
      { supplierID: 6, name: "Pandu",   contact: "8796512430", email: "pandu123@gmail.com",   address: "Goa" }
    ];

    function loadProducts() {
      const table = document.getElementById("productTable");
      table.innerHTML = "";
      products.forEach(p => {
        table.innerHTML += `
          <tr>
            <td>${p.productID}</td>
            <td>${p.name}</td>
            <td>${p.category}</td>
            <td>${p.price}</td>
            <td>${p.quantity}</td>
            <td>${p.supplierID}</td>
            <td>
              <button class="btn btn-sm btn-info" onclick="updateProduct(${p.productID})">‚úèÔ∏è</button>
              <button class="btn btn-sm btn-danger" onclick="deleteProduct(${p.productID})">üóëÔ∏è</button>
            </td>
          </tr>
        `;
      });
    }

    function loadSuppliers() {
      const table = document.getElementById("supplierTable");
      table.innerHTML = "";
      suppliers.forEach(s => {
        table.innerHTML += `
          <tr>
            <td>${s.supplierID}</td>
            <td>${s.name}</td>
            <td>${s.contact}</td>
            <td>${s.email}</td>
            <td>${s.address}</td>
          </tr>
        `;
      });
    }

    function addProduct(e) {
      e.preventDefault();
      const newProduct = {
        productID: products.length + 1,
        name: pname.value,
        category: pcategory.value,
        price: parseFloat(pprice.value),
        quantity: parseInt(pquantity.value),
        supplierID: parseInt(psupplier.value)
      };
      products.push(newProduct);
      loadProducts();
      productForm.reset();
    }

    function addSupplier(e) {
      e.preventDefault();
      const newSupplier = {
        supplierID: suppliers.length + 1,
        name: sname.value,
        contact: scontact.value,
        email: "-",
        address: "-"
      };
      suppliers.push(newSupplier);
      loadSuppliers();
      supplierForm.reset();
    }

    function updateProduct(id) {
      const product = products.find(p => p.productID === id);
      const qty = prompt("Enter new quantity:", product.quantity);
      if (qty) {
        product.quantity = parseInt(qty);
        loadProducts();
      }
    }

    function deleteProduct(id) {
      if (confirm("Delete this product?")) {
        products = products.filter(p => p.productID !== id);
        loadProducts();
      }
    }

    // Load initial sample data
    loadProducts();
    loadSuppliers();
</script>
</body>
</html>
